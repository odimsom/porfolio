<div class="max-w-7xl mx-auto px-6">
  <h2
    class="text-4xl font-bold text-center mb-4"
    style="color: var(--primary-text)"
  >
    {{ translationService.translate("projects.title").split(" ")[0] }}
    <span style="color: var(--accent-color)">{{
      translationService.translate("projects.title").split(" ")[1]
    }}</span>
  </h2>
  <p class="text-lg text-center mb-12" style="color: var(--secondary-text)">
    {{ translationService.translate("projects.subtitle") }}
  </p>

  <!-- Featured Projects -->
  <div class="mb-16">
    <h3
      class="text-2xl font-bold mb-8 text-center"
      style="color: var(--primary-text)"
    >
      {{ translationService.translate("projects.featured").split(" ")[0] }}
      <span style="color: var(--accent-color)">{{
        translationService.translate("projects.featured").split(" ")[1]
      }}</span>
    </h3>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <div
        *ngFor="let project of getFeaturedProjects(); let i = index"
        class="rounded-xl p-8 border transition-all duration-500 group hover-glow blur-in project-card flex flex-col"
        style="background: var(--card-bg); border-color: var(--card-border)"
        [style.animation-delay]="i * 150 + 'ms'"
      >
        <!-- Project Header -->
        <div class="flex items-center justify-between mb-4">
          <h4
            class="text-xl font-bold group-hover:transition-colors duration-300"
            style="color: var(--primary-text)"
          >
            {{ project.titleKey }}
          </h4>
          <span
            class="px-3 py-1 text-xs font-medium rounded-full border"
            [ngClass]="{
              'bg-purple-500/20 text-purple-400 border-purple-500/30':
                project.category === 'Completo',
            }"
            [ngStyle]="
              project.category === 'Frontend' && !themeService.isDark()
                ? {
                    backgroundColor: 'rgba(138, 8, 8, 0.2)',
                    color: '#8a0808',
                    borderColor: 'rgba(138, 8, 8, 0.3)',
                  }
                : project.category === 'Frontend' && themeService.isDark()
                  ? {
                      backgroundColor: 'rgba(59, 130, 246, 0.2)',
                      color: '#60a5fa',
                      borderColor: 'rgba(59, 130, 246, 0.3)',
                    }
                  : null
            "
          >
            {{ project.category }}
          </span>
        </div>

        <!-- Project Description -->
        <p
          class="text-sm mb-6 leading-relaxed"
          style="color: var(--secondary-text)"
        >
          {{ translationService.translate(project.descriptionKey) }}
        </p>

        <!-- Technologies -->
        <div class="mb-6 flex-grow">
          <h5
            class="text-sm font-semibold mb-3"
            style="color: var(--primary-text)"
          >
            {{ translationService.translate("projects.technologies") }}
          </h5>
          <div class="flex flex-wrap gap-2">
            <span
              *ngFor="let tech of project.technologies"
              class="px-2 py-1 text-xs font-medium rounded-md border transition-colors duration-200 badge-sheen"
              style="
                background: var(--glass-bg);
                border-color: var(--border-color);
              "
              [class]="getTechnologyClasses(tech.color)"
            >
              {{ tech.name }}
            </span>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-3 mt-auto">
          <a
            [href]="project.githubUrl"
            target="_blank"
            rel="noopener noreferrer"
            [attr.aria-label]="'View source code for ' + project.titleKey"
            class="flex items-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium transition-transform duration-200 hover:scale-105 btn-press"
            style="
              background: var(--button-secondary-bg);
              border-color: var(--button-secondary-border);
              color: var(--button-secondary-text);
            "
          >
            <fa-icon [icon]="faCode" class="w-4 h-4"></fa-icon>
            {{ translationService.translate("projects.code") }}
          </a>

          <a
            *ngIf="project.liveUrl"
            [href]="project.liveUrl"
            target="_blank"
            rel="noopener noreferrer"
            [attr.aria-label]="'View live demo for ' + project.titleKey"
            [class]="getViewDemoButtonClasses() + ' btn-press'"
            [ngStyle]="getViewDemoButtonStyles()"
          >
            <fa-icon [icon]="faExternalLinkAlt" class="w-4 h-4"></fa-icon>
            {{ translationService.translate("projects.demo") }}
          </a>

          <button
            *ngIf="!project.liveUrl"
            disabled
            class="flex items-center gap-2 px-4 py-2 border rounded-lg text-sm font-medium cursor-not-allowed"
            style="
              background: var(--button-disabled-bg);
              border-color: var(--button-disabled-border);
              color: var(--button-disabled-text);
            "
          >
            <fa-icon [icon]="faBan" class="w-4 h-4"></fa-icon>
            {{ translationService.translate("projects.notDeployed") }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Other Projects -->
  <div *ngIf="getOtherProjects().length > 0">
    <h3
      class="text-2xl font-bold mb-8 text-center"
      style="color: var(--primary-text)"
      appAnimate="animate-fade-in"
    >
      {{ translationService.translate("projects.other").split(" ")[0] }}
      <span style="color: var(--accent-color)">{{
        translationService.translate("projects.other").split(" ")[1]
      }}</span>
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div
        *ngFor="let project of getOtherProjects(); let i = index"
        class="rounded-xl p-5 border transition-transform duration-300 hover:scale-105 hover:shadow-lg group hover-glow animate-fade-in-up animate-duration-700"
        style="background: var(--card-bg); border-color: var(--card-border)"
      >
        <!-- Project Header -->
        <div class="flex items-center justify-between mb-3">
          <h4
            class="text-lg font-bold group-hover:transition-colors duration-300"
            style="color: var(--primary-text)"
          >
            {{ project.titleKey }}
          </h4>
          <span
            class="px-2 py-1 text-xs font-medium rounded-full border"
            [ngClass]="{
              'bg-purple-500/20 text-purple-400 border-purple-500/30':
                project.category === 'Completo',
            }"
            [ngStyle]="
              project.category === 'Frontend' && !themeService.isDark()
                ? {
                    backgroundColor: 'rgba(138, 8, 8, 0.2)',
                    color: '#8a0808',
                    borderColor: 'rgba(138, 8, 8, 0.3)',
                  }
                : project.category === 'Frontend' && themeService.isDark()
                  ? {
                      backgroundColor: 'rgba(59, 130, 246, 0.2)',
                      color: '#60a5fa',
                      borderColor: 'rgba(59, 130, 246, 0.3)',
                    }
                  : null
            "
          >
            {{ project.category }}
          </span>
        </div>

        <!-- Project Description -->
        <p
          class="text-sm mb-4 leading-relaxed"
          style="color: var(--secondary-text)"
        >
          {{ translationService.translate(project.descriptionKey) }}
        </p>

        <!-- Technologies -->
        <div class="mb-4">
          <div class="flex flex-wrap gap-1">
            <span
              *ngFor="let tech of project.technologies"
              class="px-2 py-1 text-xs font-medium rounded-md border transition-colors duration-200"
              style="
                background: var(--glass-bg);
                border-color: var(--border-color);
              "
              [class]="getTechnologyClasses(tech.color)"
            >
              {{ tech.name }}
            </span>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-2">
          <a
            [href]="project.githubUrl"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center gap-2 px-3 py-2 border rounded-lg text-sm font-medium transition-transform duration-200 hover:scale-105 btn-press"
            style="
              background: var(--button-secondary-bg);
              border-color: var(--button-secondary-border);
              color: var(--button-secondary-text);
            "
          >
            <fa-icon [icon]="faCode" class="w-4 h-4"></fa-icon>
            {{ translationService.translate("projects.code") }}
          </a>

          <a
            *ngIf="project.liveUrl"
            [href]="project.liveUrl"
            target="_blank"
            rel="noopener noreferrer"
            [class]="getViewDemoButtonSmallClasses() + ' btn-press'"
            [ngStyle]="getViewDemoButtonStyles()"
          >
            <fa-icon [icon]="faExternalLinkAlt" class="w-4 h-4"></fa-icon>
            {{ translationService.translate("projects.demo") }}
          </a>

          <button
            *ngIf="!project.liveUrl"
            disabled
            class="flex items-center gap-2 px-3 py-2 border rounded-lg text-sm font-medium cursor-not-allowed"
            style="
              background: var(--button-disabled-bg);
              border-color: var(--button-disabled-border);
              color: var(--button-disabled-text);
            "
          >
            <fa-icon [icon]="faBan" class="w-4 h-4"></fa-icon>
            {{ translationService.translate("projects.notDeployed") }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
